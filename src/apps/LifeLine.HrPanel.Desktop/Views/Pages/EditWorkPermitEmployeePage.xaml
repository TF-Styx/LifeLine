<Page x:Class="LifeLine.HrPanel.Desktop.Views.Pages.EditWorkPermitEmployeePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:LifeLine.HrPanel.Desktop.Views.Pages" 
      xmlns:b="http://schemas.microsoft.com/xaml/behaviors" 
      xmlns:behaviors="clr-namespace:Shared.WPF.Resources.Behaviors;assembly=Shared.WPF" 
      xmlns:cc="clr-namespace:Shared.WPF.Resources.Controls;assembly=Shared.WPF" 
      xmlns:pages="clr-namespace:LifeLine.HrPanel.Desktop.ViewModels.Pages" 
      d:DataContext="{d:DesignInstance Type=pages:EditWorkPermitEmployeePageVM}"
      mc:Ignorable="d" 
      d:Height="auto" d:Width="auto"
      Title="EditWorkPermitEmployeePage">

    <b:Interaction.Behaviors>
        <behaviors:AsyncInitializeBehavior/>
    </b:Interaction.Behaviors>

    <Page.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontFamily" Value="Arial"/>
        </Style>
    </Page.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" Background="{StaticResource App.MainColor}">
        <Border Background="{StaticResource App.SecondColor}" CornerRadius="6" Margin="5" BorderThickness="0">
            <StackPanel Margin="5">
                <!-- Сертификаты / Аккредитация -->
                <TextBlock Text="Сертификаты / Аккредитация" HorizontalAlignment="Center" FontSize="20" Margin="0 0 0 10"/>
                
                <!-- Тип документа / Статус -->
                <ComboBox Grid.Column="0" 
                          ItemsSource="{Binding PermitTypes}" 
                          SelectedItem="{Binding WorkPermitDisplay.PermitType}"
                          DisplayMemberPath="Name" 
                          Margin="0 0 0 5"/>

                <ComboBox Grid.Column="1" 
                          ItemsSource="{Binding AdmissionStatuses}" 
                          SelectedItem="{Binding WorkPermitDisplay.AdmissionStatus}"
                          DisplayMemberPath="Name" 
                          Margin="0 5 0 10"/>

                <!-- Наименование документа / Наименование специальности -->
                <cc:PlaceHolderTextBox Grid.Column="0" PlaceHolder="Наименование документа*" Margin="0 0 0 5"
                                       Text="{Binding WorkPermitDisplay.WorkPermitName, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TextBox.PlaceHolder}"/>

                <cc:PlaceHolderTextBox Grid.Column="1" PlaceHolder="Наименование специальности*" Margin="0 0 0 5"
                                       Text="{Binding WorkPermitDisplay.SpecialtyName, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TextBox.PlaceHolder}"/>

                <!-- Серия / Номер -->
                <cc:PlaceHolderTextBox Grid.Column="0" PlaceHolder="Серия" Margin="0 0 0 5"
                                       Text="{Binding WorkPermitDisplay.DocumentSeries, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TextBox.PlaceHolder}"/>

                <cc:PlaceHolderTextBox Grid.Column="1" PlaceHolder="Номер*" Margin="0 0 0 5"
                                       Text="{Binding WorkPermitDisplay.WorkPermitNumber, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource TextBox.PlaceHolder}"/>

                <!-- Номер протокола / Орган выдающий документы -->
                <cc:PlaceHolderTextBox Grid.Column="0" PlaceHolder="Номер протокола" Margin="0 0 0 5"
                                       Text="{Binding WorkPermitDisplay.ProtocolNumber}" Style="{StaticResource TextBox.PlaceHolder}"/>

                <cc:PlaceHolderTextBox Grid.Column="1" PlaceHolder="Орган выдающий документы*" Margin="0 0 0 10"
                                       Text="{Binding WorkPermitDisplay.IssuingAuthority}" Style="{StaticResource TextBox.PlaceHolder}"/>

                <!-- Дата выдачи / Дата окончания -->
                <DatePicker Grid.Column="0" SelectedDate="{Binding WorkPermitDisplay.IssueDate, UpdateSourceTrigger=PropertyChanged}" Margin="0 0 0 10"/>

                <DatePicker Grid.Column="1" SelectedDate="{Binding WorkPermitDisplay.ExpiryDate, UpdateSourceTrigger=PropertyChanged}" Margin="0 0 0 10"/>

                <Button Content="Сохранить"
                        HorizontalAlignment="Center" VerticalAlignment="Bottom"
                        Width="250" Height="40"
                        Command="{Binding UpdateWorkPermitEmployeeCommand}"
                        Style="{StaticResource App.Button}" Margin="0 10 0 0"/>
            </StackPanel>
        </Border>
    </ScrollViewer>
</Page>
